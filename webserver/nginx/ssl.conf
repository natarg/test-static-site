# Redirect to non-WWW
server {
  listen      443 ssl http2;
  server_name 1037d9a00b1c.mylabserver.com;

  # SSL
  ssl_certificate     /etc/nginx/certs/nginx-selfsigned.crt;
  ssl_certificate_key /etc/nginx/certs/nginx-selfsigned.key;

  # Redirect to HTTPS
  location / { return 301 https://1037d9a00b1c.mylabserver.com$request_uri; }
}

# Config for HTTPS
server {
  listen      443 ssl http2;
  server_name www.1037d9a00b1c.mylabserver.com.com;

  # Root & index.html
  root /usr/share/nginx/html;
  index index.html;

  ssl_certificate     /etc/nginx/certs/nginx-selfsigned.crt;
  ssl_certificate_key /etc/nginx/certs/nginx-selfsigned.key;
}
